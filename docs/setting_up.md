# Setting up

In order to use Astir you need to have its binaries present at your computer. Astir has been written in C++ and as such it needs to be compiled at some point before it is used.

## Cloning the repository with submodules
Astir has no dependencies aside from one compile-time dependency library, [DimCli](https://github.com/gknowles/dimcli), which is also included in the repository as a [git submodule](https://git-scm.com/book/en/v2/Git-Tools-Submodules). Hence, in order to have a successful compilation you need to initialize the submodules prior to compiling. That can be done by either specifying `--recursive` when cloning the repository or by running the following in the local copy. The following are equivalent

**Recursive clone**
```git
git clone --recursive https://github.com/lexected/astir.git
```

**Clone and submodule initialization**
```git
git clone https://github.com/lexected/astir.git
git submodule init
git submodule update
```

## General Pre-requisites
Astir is written in pure C++17, so you will need a compiler that supports that standard. Those are for example

* MSVC that came with Visual Studio 2017 version `15.3` or higher. We test on VS 2017 version `16.6.5`.
* GCC 7 or higher. We test on GCC 9 version `9.3.0`.
* Clang 5 or higher. We test on Clang `10.0.0`.

The platform-specific compilation files can be generated by CMake. There we require CMake 3.15 or higher. We test on `3.16.3`.

## Compilation

### Windows
If you are running on a Windows machine, there are three options available to you. You can

+ download the compiled binaries from the [GitHub Releases](https://github.com/lexected/astir/releases) page of the repository,
+ clone the source code and compile it refering to the native Visual Studio solution; that is to do
    ```git
    git clone --recursive https://github.com/lexected/astir.git
    ```
    followed by a double-click on the `.sln` file to open the solution, and clicking `Build Solution`.
+ clone the source code, CMake, and then compile the sources; that is to do
    ```bash
    git clone --recursive https://github.com/lexected/astir
    cd astir
    mkdir Build
    cd Build
    cmake --configure -S ../ -B .
    cmake --build .
    ```

Once done you can test the compilation result with

```powershell
./astir.exe --help
```

Remember that in order to have a working installation the current working directory of the `astir.exe` executable will *need to contain* a copy of the `/astir/Resources` folder as well (root `/` meant with respect to the repository root).

### Linux
The only option for Linux machines so far is to use `CMake` and consequently make. For that you will obviously need `build-essential`.

```bash
    git clone --recursive https://github.com/lexected/astir
    cd astir
    mkdir Build
    cd Build
    cmake --configure -S ../ -B .
    cmake --build .
```

Once done you can test the binary with

```powershell
./astir --help
```

Remember that in order to have a working installation the current working directory of the `astir` executable will *need to contain* a copy of the `/astir/Resources` folder as well (root `/` meant with respect to the repository root).

### MacOSX
Similarly to Linux, the only option so far is to use `CMake`

```bash
    git clone --recursive https://github.com/lexected/astir
    cd astir
    mkdir Build
    cd Build
    cmake --configure -S ../ -B .
    cmake --build .
```

You can then test the output binary with

```powershell
./astir --help
```

Remember that in order to have a working installation the current working directory of the `astir` executable will **need to contain** a copy of the `/astir/Resources` folder as well (root `/` meant with respect to the repository root).

## Installation
For astir to work one also **needs to** copy the folder `/astir/Resources` folder (root `/` meant with respect to the repository root) into the executables current working directory. That completes the installation.